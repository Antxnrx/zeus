<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>User Flow â€” CI/CD Healing Agent</title>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500;600&family=Familjen+Grotesk:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

:root{
  --bg:#07090f;
  --surface:#0c1018;
  --card:#111520;
  --border:#1a2236;
  --border2:#243050;

  --user:#22d3ee;
  --system:#a78bfa;
  --agent:#34d399;
  --decision:#fb923c;
  --error:#f87171;
  --success:#4ade80;

  --text:#e2e8f0;
  --sub:#94a3b8;
  --dim:#334155;
  --dimmer:#1e293b;
}

html{font-size:14px;scroll-behavior:smooth}

body{
  background:var(--bg);
  color:var(--text);
  font-family:'IBM Plex Mono',monospace;
  min-height:100vh;
  padding:48px 16px 100px;
  background-image:
    radial-gradient(ellipse 60% 30% at 50% 0%,rgba(34,211,238,0.05) 0%,transparent 60%),
    radial-gradient(ellipse 40% 30% at 90% 60%,rgba(167,139,250,0.04) 0%,transparent 55%),
    radial-gradient(ellipse 30% 20% at 10% 80%,rgba(52,211,153,0.04) 0%,transparent 50%);
}

/* â”€â”€ Header â”€â”€ */
.header{text-align:center;margin-bottom:56px}
.header-eyebrow{
  display:inline-flex;align-items:center;gap:8px;
  font-size:10px;letter-spacing:0.2em;text-transform:uppercase;
  color:var(--user);background:rgba(34,211,238,0.07);
  border:1px solid rgba(34,211,238,0.18);
  padding:5px 18px;border-radius:20px;margin-bottom:18px;
}
.header h1{
  font-family:'Familjen Grotesk',sans-serif;
  font-size:clamp(22px,4vw,38px);font-weight:800;
  letter-spacing:-0.03em;line-height:1.1;
  background:linear-gradient(135deg,#fff 20%,#64748b 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-clip:text;margin-bottom:10px;
}
.header p{font-size:11px;color:var(--sub);letter-spacing:0.03em}

/* â”€â”€ Legend â”€â”€ */
.legend{
  display:flex;flex-wrap:wrap;gap:10px 24px;
  justify-content:center;margin-bottom:56px;
}
.leg{display:flex;align-items:center;gap:7px;font-size:10px;color:var(--sub)}
.leg-dot{width:10px;height:10px;border-radius:2px;flex-shrink:0}

/* â”€â”€ Flow container â”€â”€ */
.flow{
  max-width:860px;margin:0 auto;
  display:flex;flex-direction:column;align-items:center;
  gap:0;
}

/* â”€â”€ Node types â”€â”€ */
.node{
  position:relative;width:100%;max-width:600px;
  display:flex;align-items:center;gap:0;
  animation:fadeUp 0.4s ease both;
}

/* stagger via nth-child isn't reliable with varied elements â€” use inline style */

.node-box{
  flex:1;border-radius:10px;padding:14px 20px;
  border:1px solid var(--border);
  background:var(--card);
  transition:border-color 0.2s,box-shadow 0.2s;
  cursor:default;
}
.node-box:hover{transform:translateX(3px)}

.node-label{
  font-family:'Familjen Grotesk',sans-serif;
  font-size:13px;font-weight:700;letter-spacing:-0.01em;
  margin-bottom:3px;
}
.node-sub{font-size:10px;color:var(--sub);line-height:1.6}
.node-tag{
  display:inline-block;font-size:8px;padding:2px 8px;border-radius:4px;
  margin-top:6px;letter-spacing:0.06em;text-transform:uppercase;
}

/* node color variants */
.n-user .node-box{border-color:rgba(34,211,238,0.3);background:rgba(34,211,238,0.04)}
.n-user .node-box:hover{border-color:var(--user);box-shadow:0 0 16px rgba(34,211,238,0.12)}
.n-user .node-label{color:var(--user)}
.n-user .node-tag{background:rgba(34,211,238,0.1);color:var(--user);border:1px solid rgba(34,211,238,0.2)}

.n-system .node-box{border-color:rgba(167,139,250,0.3);background:rgba(167,139,250,0.04)}
.n-system .node-box:hover{border-color:var(--system);box-shadow:0 0 16px rgba(167,139,250,0.12)}
.n-system .node-label{color:var(--system)}
.n-system .node-tag{background:rgba(167,139,250,0.1);color:var(--system);border:1px solid rgba(167,139,250,0.2)}

.n-agent .node-box{border-color:rgba(52,211,153,0.3);background:rgba(52,211,153,0.04)}
.n-agent .node-box:hover{border-color:var(--agent);box-shadow:0 0 16px rgba(52,211,153,0.12)}
.n-agent .node-label{color:var(--agent)}
.n-agent .node-tag{background:rgba(52,211,153,0.1);color:var(--agent);border:1px solid rgba(52,211,153,0.2)}

.n-decision .node-box{
  border-color:rgba(251,146,60,0.35);background:rgba(251,146,60,0.04);
  border-radius:6px;
  clip-path:polygon(50% 0%,100% 50%,50% 100%,0% 50%);
  clip-path:none;
  border-style:dashed;
}
.n-decision .node-box:hover{border-color:var(--decision);box-shadow:0 0 16px rgba(251,146,60,0.12)}
.n-decision .node-label{color:var(--decision)}
.n-decision .node-tag{background:rgba(251,146,60,0.1);color:var(--decision);border:1px solid rgba(251,146,60,0.2)}

.n-error .node-box{border-color:rgba(248,113,113,0.3);background:rgba(248,113,113,0.04)}
.n-error .node-label{color:var(--error)}
.n-error .node-tag{background:rgba(248,113,113,0.1);color:var(--error);border:1px solid rgba(248,113,113,0.2)}

.n-success .node-box{border-color:rgba(74,222,128,0.35);background:rgba(74,222,128,0.04)}
.n-success .node-label{color:var(--success)}
.n-success .node-tag{background:rgba(74,222,128,0.1);color:var(--success);border:1px solid rgba(74,222,128,0.2)}

/* â”€â”€ Connector â”€â”€ */
.connector{
  display:flex;flex-direction:column;align-items:center;
  width:2px;margin:0 auto;position:relative;
  min-height:32px;
}
.conn-line{
  width:1px;flex:1;min-height:20px;
  background:linear-gradient(to bottom,var(--border2),var(--border));
}
.conn-arrow{
  width:0;height:0;
  border-left:5px solid transparent;
  border-right:5px solid transparent;
  border-top:7px solid var(--border2);
  margin-top:-1px;
}
.conn-label-wrap{
  position:absolute;left:calc(50% + 14px);
  top:50%;transform:translateY(-50%);
  white-space:nowrap;
}
.conn-label{
  font-size:9px;color:var(--dim);
  letter-spacing:0.06em;
  border-left:1px solid var(--dimmer);
  padding-left:8px;
}

/* â”€â”€ Section divider â”€â”€ */
.section-divider{
  display:flex;align-items:center;gap:12px;
  width:100%;max-width:600px;
  margin:24px 0 20px;
}
.sec-line{flex:1;height:1px;background:var(--border)}
.sec-text{
  font-size:9px;color:var(--dim);letter-spacing:0.14em;
  text-transform:uppercase;white-space:nowrap;
}

/* â”€â”€ Branch split (decision paths) â”€â”€ */
.branch-container{
  width:100%;max-width:860px;
  display:grid;grid-template-columns:1fr auto 1fr;
  gap:0;align-items:start;
  position:relative;
}
.branch-col{display:flex;flex-direction:column;align-items:center}
.branch-label{
  font-size:9px;letter-spacing:0.1em;text-transform:uppercase;
  padding:3px 12px;border-radius:20px;margin-bottom:10px;
}
.branch-yes{background:rgba(74,222,128,0.08);color:var(--success);border:1px solid rgba(74,222,128,0.2)}
.branch-no {background:rgba(248,113,113,0.08);color:var(--error); border:1px solid rgba(248,113,113,0.2)}
.branch-retry{background:rgba(251,146,60,0.08);color:var(--decision);border:1px solid rgba(251,146,60,0.2)}

.branch-divider{
  display:flex;flex-direction:column;align-items:center;
  padding-top:0;gap:0;
  width:40px;
}
.branch-h-line{
  height:1px;background:var(--border2);
  width:100%;
}
.branch-v-join{
  width:1px;height:32px;
  background:linear-gradient(to bottom,var(--border2),transparent);
}

/* horizontal connector line across branches */
.h-branch-row{
  width:100%;max-width:860px;
  display:flex;align-items:flex-start;
  position:relative;
}
.h-branch-line{
  position:absolute;top:0;left:25%;right:25%;
  height:1px;background:var(--border2);
}

/* â”€â”€ Loop back indicator â”€â”€ */
.loop-node{
  width:100%;max-width:600px;
  border:1px dashed var(--decision);
  border-radius:10px;
  padding:12px 20px;
  background:rgba(251,146,60,0.03);
  display:flex;align-items:center;gap:12px;
}
.loop-icon{font-size:16px;flex-shrink:0}
.loop-text{font-size:10px;color:var(--decision);line-height:1.6}
.loop-arrow{
  margin-left:auto;font-size:11px;color:var(--decision);
  letter-spacing:0.04em;
}

/* â”€â”€ Step number badge â”€â”€ */
.step-num{
  position:absolute;left:-44px;top:50%;transform:translateY(-50%);
  width:28px;height:28px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:10px;font-weight:600;flex-shrink:0;
  border:1px solid var(--border2);background:var(--surface);
  color:var(--sub);
}

/* â”€â”€ Parallel swim lane â”€â”€ */
.parallel-wrap{
  width:100%;max-width:860px;
  border:1px solid var(--border);border-radius:12px;
  overflow:hidden;
  background:rgba(10,15,25,0.5);
}
.parallel-header{
  padding:8px 20px;
  background:rgba(52,211,153,0.05);
  border-bottom:1px solid var(--border);
  font-size:9px;letter-spacing:0.14em;text-transform:uppercase;
  color:var(--agent);display:flex;align-items:center;gap:8px;
}
.parallel-body{
  display:grid;grid-template-columns:repeat(3,1fr);
  gap:0;
}
.parallel-col{
  padding:14px 16px;
  border-right:1px solid var(--border);
  display:flex;flex-direction:column;gap:8px;
}
.parallel-col:last-child{border-right:none}
.parallel-col-title{
  font-size:9px;letter-spacing:0.1em;text-transform:uppercase;
  color:var(--sub);margin-bottom:4px;
}
.parallel-item{
  font-size:10px;color:var(--text);line-height:1.5;
  padding:6px 10px;
  background:rgba(255,255,255,0.02);
  border:1px solid var(--border);
  border-radius:6px;
}

/* â”€â”€ Timeline mini â”€â”€ */
.timeline-wrap{
  width:100%;max-width:600px;
}
.timeline-item{
  display:flex;gap:12px;align-items:flex-start;
  padding-bottom:16px;position:relative;
}
.timeline-item::before{
  content:'';position:absolute;left:14px;top:28px;
  width:1px;height:calc(100% - 16px);
  background:var(--border);
}
.timeline-item:last-child::before{display:none}
.tl-dot{
  width:28px;height:28px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:11px;flex-shrink:0;
  border:1px solid var(--border2);background:var(--surface);
}
.tl-content{flex:1;padding-top:4px}
.tl-title{font-family:'Familjen Grotesk',sans-serif;font-size:12px;font-weight:600;margin-bottom:2px}
.tl-desc{font-size:10px;color:var(--sub);line-height:1.6}

/* â”€â”€ Annotations â”€â”€ */
.annotation{
  width:100%;max-width:600px;
  border-left:2px solid var(--border2);
  padding:6px 14px;margin:4px 0;
  font-size:10px;color:var(--sub);line-height:1.6;
}

/* â”€â”€ Animation â”€â”€ */
@keyframes fadeUp{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:translateY(0)}
}

/* â”€â”€ Responsive â”€â”€ */
@media(max-width:600px){
  .parallel-body{grid-template-columns:1fr}
  .parallel-col{border-right:none;border-bottom:1px solid var(--border)}
  .step-num{display:none}
  .branch-container{grid-template-columns:1fr}
}
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
  <div class="header-eyebrow">RIFT 2026 Â· CI/CD Healing Agent Â· User Flow</div>
  <h1>End-to-End User Journey</h1>
  <p>From repo submission to final results â€” every step, decision, and loop-back</p>
</div>

<!-- LEGEND -->
<div class="legend">
  <div class="leg"><div class="leg-dot" style="background:var(--user)"></div>User Action</div>
  <div class="leg"><div class="leg-dot" style="background:var(--system)"></div>System Process</div>
  <div class="leg"><div class="leg-dot" style="background:var(--agent)"></div>Agent Operation</div>
  <div class="leg"><div class="leg-dot" style="background:var(--decision);border-radius:50%"></div>Decision Gate</div>
  <div class="leg"><div class="leg-dot" style="background:var(--error)"></div>Failure / Block</div>
  <div class="leg"><div class="leg-dot" style="background:var(--success)"></div>Success / End</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="flow">

  <!-- STEP 1 -->
  <div class="section-divider" style="margin-top:0">
    <div class="sec-line"></div><div class="sec-text">Phase 1 â€” Submission</div><div class="sec-line"></div>
  </div>

  <div class="node n-user" style="animation-delay:0.05s">
    <div class="step-num">1</div>
    <div class="node-box">
      <div class="node-label">User Opens Dashboard</div>
      <div class="node-sub">Navigates to live Vercel URL Â· Dashboard loads with empty input form</div>
      <span class="node-tag">User Action</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-user" style="animation-delay:0.1s">
    <div class="step-num">2</div>
    <div class="node-box">
      <div class="node-label">Fill in Input Form</div>
      <div class="node-sub">Enters GitHub Repository URL Â· Team Name Â· Leader Name Â· Clicks "Run Agent"</div>
      <span class="node-tag">User Action</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div><div class="conn-label-wrap"><span class="conn-label">POST /run-agent</span></div></div>

  <div class="node n-system" style="animation-delay:0.15s">
    <div class="step-num">3</div>
    <div class="node-box">
      <div class="node-label">Express API â€” Input Validation</div>
      <div class="node-sub">Validates repo URL format Â· Generates unique run_id Â· Creates branch name from team + leader</div>
      <span class="node-tag">System</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <!-- DECISION: valid? -->
  <div class="node n-decision" style="animation-delay:0.2s">
    <div class="step-num">4</div>
    <div class="node-box">
      <div class="node-label">â—† Input Valid?</div>
      <div class="node-sub">Is repo URL a valid GitHub URL? Â· Are team + leader fields non-empty?</div>
      <span class="node-tag">Decision</span>
    </div>
  </div>

  <!-- Branch: invalid -->
  <div style="width:100%;max-width:600px;display:flex;justify-content:flex-end;margin-top:-2px">
    <div style="font-size:9px;color:var(--error);padding:4px 12px;background:rgba(248,113,113,0.06);border:1px solid rgba(248,113,113,0.15);border-radius:20px;letter-spacing:0.08em">
      âœ• INVALID â†’ Inline validation error shown Â· User corrects and resubmits
    </div>
  </div>

  <div class="connector" style="min-height:24px"><div class="conn-line" style="background:linear-gradient(to bottom,var(--success),var(--border2))"></div><div class="conn-arrow" style="border-top-color:var(--success)"></div><div class="conn-label-wrap"><span class="conn-label" style="color:var(--success)">âœ“ Valid</span></div></div>

  <div class="node n-system" style="animation-delay:0.25s">
    <div class="step-num">5</div>
    <div class="node-box">
      <div class="node-label">Job Enqueued Â· Dashboard Updates</div>
      <div class="node-sub">BullMQ job created Â· run_id returned Â· Dashboard switches to live run view Â· WebSocket room opens</div>
      <span class="node-tag">System</span>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PHASE 2 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="section-divider">
    <div class="sec-line"></div><div class="sec-text">Phase 2 â€” Security Scan</div><div class="sec-line"></div>
  </div>

  <div class="node n-agent" style="animation-delay:0.3s">
    <div class="step-num">6</div>
    <div class="node-box">
      <div class="node-label">Repo Scanner Agent â€” Pre-Clone Scan</div>
      <div class="node-sub">Queries GitHub API without cloning Â· Checks for malicious files, exposed secrets, obfuscated code, suspicious test scripts Â· Dashboard shows "Scanningâ€¦"</div>
      <span class="node-tag">Agent</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-decision" style="animation-delay:0.35s">
    <div class="step-num">7</div>
    <div class="node-box">
      <div class="node-label">â—† Repo Safe?</div>
      <div class="node-sub">Are red flags detected? Â· Malicious patterns Â· SECRET_LEAK in source Â· Outbound network calls in tests</div>
      <span class="node-tag">Decision</span>
    </div>
  </div>

  <!-- QUARANTINE branch -->
  <div style="width:100%;max-width:600px;display:flex;justify-content:flex-end;margin-top:-2px">
    <div style="font-size:9px;color:var(--error);padding:4px 12px;background:rgba(248,113,113,0.06);border:1px solid rgba(248,113,113,0.15);border-radius:20px;letter-spacing:0.08em">
      ğŸš¨ UNSAFE â†’ Run quarantined Â· Security alert card shown on dashboard Â· Execution halted
    </div>
  </div>

  <div class="connector" style="min-height:24px"><div class="conn-line" style="background:linear-gradient(to bottom,var(--success),var(--border2))"></div><div class="conn-arrow" style="border-top-color:var(--success)"></div><div class="conn-label-wrap"><span class="conn-label" style="color:var(--success)">âœ“ Safe</span></div></div>

  <div class="node n-agent" style="animation-delay:0.4s">
    <div class="step-num">8</div>
    <div class="node-box">
      <div class="node-label">Clone Repository Â· Language Detection</div>
      <div class="node-sub">GitPython clones repo to sandbox Â· Auto-detects Python, JS, TS, Java, Go, Rust Â· Appropriate Docker containers spun up Â· "Network Isolated âœ“" badge shown</div>
      <span class="node-tag">Agent</span>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PHASE 3 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="section-divider">
    <div class="sec-line"></div><div class="sec-text">Phase 3 â€” Analysis</div><div class="sec-line"></div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-agent" style="animation-delay:0.45s">
    <div class="step-num">9</div>
    <div class="node-box">
      <div class="node-label">AST Analyzer â€” Static Analysis Pass</div>
      <div class="node-sub">tree-sitter parses all files Â· Builds dependency graph Â· Computes risk scores per file Â· Dashboard populates 3D dependency graph with color-coded nodes</div>
      <span class="node-tag">Agent</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-agent" style="animation-delay:0.5s">
    <div class="step-num">10</div>
    <div class="node-box">
      <div class="node-label">Test Runner â€” Execute All Tests in Sandbox</div>
      <div class="node-sub">Spawns isolated Docker container per language Â· Runs pytest / Jest / JUnit Â· Captures all stdout + stderr Â· CPU/memory stream begins â†’ sparklines update live</div>
      <span class="node-tag">Agent</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-agent" style="animation-delay:0.55s">
    <div class="step-num">11</div>
    <div class="node-box">
      <div class="node-label">Dependency Mapper â€” Order Failures Topologically</div>
      <div class="node-sub">Builds root-cause chain Â· Orders fixes so upstream bugs are resolved before downstream effects Â· Causal attribution via git blame runs per bug</div>
      <span class="node-tag">Agent</span>
    </div>
  </div>

  <!-- USER observes -->
  <div class="annotation">
    ğŸ‘ User watches: Live Thought Stream updating Â· 3D graph nodes turn red where bugs detected Â· Risk heatmap populates Â· Fixes table begins populating with rows
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PHASE 4 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="section-divider">
    <div class="sec-line"></div><div class="sec-text">Phase 4 â€” Fix Generation Loop</div><div class="sec-line"></div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-agent" style="animation-delay:0.6s">
    <div class="step-num">12</div>
    <div class="node-box">
      <div class="node-label">Fix Generator â€” ChromaDB KB Lookup First</div>
      <div class="node-sub">Embeds bug description Â· Searches fix_patterns collection for semantic match Â· If similarity &gt; threshold â†’ Pattern Match âš¡ badge shown â†’ apply instantly</div>
      <span class="node-tag">Agent</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-decision" style="animation-delay:0.65s">
    <div class="step-num">13</div>
    <div class="node-box">
      <div class="node-label">â—† KB Match Found?</div>
      <div class="node-sub">Similarity score above threshold? Â· Has a similar fix been successfully applied in a previous run?</div>
      <span class="node-tag">Decision</span>
    </div>
  </div>

  <!-- PARALLEL LLM calls -->
  <div class="connector" style="min-height:20px"><div class="conn-line"></div><div class="conn-arrow"></div><div class="conn-label-wrap"><span class="conn-label">âœ• No match</span></div></div>

  <div class="parallel-wrap" style="animation-delay:0.7s">
    <div class="parallel-header">
      âš¡ 3 LLMs called simultaneously Â· Cost-aware routing â€” simple bugs â†’ mini models Â· complex bugs â†’ full models
    </div>
    <div class="parallel-body">
      <div class="parallel-col">
        <div class="parallel-col-title">GPT-4o / 4o-mini</div>
        <div class="parallel-item">Receives bug context + code snippet</div>
        <div class="parallel-item">Returns proposed fix #1</div>
      </div>
      <div class="parallel-col">
        <div class="parallel-col-title">Claude Sonnet</div>
        <div class="parallel-item">Receives same bug context</div>
        <div class="parallel-item">Returns proposed fix #2</div>
      </div>
      <div class="parallel-col">
        <div class="parallel-col-title">Gemini Flash</div>
        <div class="parallel-item">Receives same bug context</div>
        <div class="parallel-item">Returns proposed fix #3</div>
      </div>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-agent" style="animation-delay:0.75s">
    <div class="step-num">14</div>
    <div class="node-box">
      <div class="node-label">Consensus Vote Â· Meta-Arbitration if Split</div>
      <div class="node-sub">2-of-3 models must agree on the same fix Â· If all three disagree â†’ meta-arbitrator agent selects best with reasoning Â· Counterfactual simulation runs in sandbox before committing</div>
      <span class="node-tag">Agent</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-agent" style="animation-delay:0.8s">
    <div class="step-num">15</div>
    <div class="node-box">
      <div class="node-label">Critic Agent â€” Validate Before Commit</div>
      <div class="node-sub">Re-parses fix with AST Â· Checks structural validity Â· Computes confidence score (0â€“100%) Â· Confidence score column updates in dashboard fixes table</div>
      <span class="node-tag">Agent</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-decision" style="animation-delay:0.85s">
    <div class="step-num">16</div>
    <div class="node-box">
      <div class="node-label">â—† Confidence â‰¥ Threshold?</div>
      <div class="node-sub">Is confidence score above configured minimum (default 70%)? Â· Is the fix structurally valid?</div>
      <span class="node-tag">Decision</span>
    </div>
  </div>

  <div style="width:100%;max-width:600px;display:flex;justify-content:flex-end;margin-top:-2px">
    <div style="font-size:9px;color:var(--decision);padding:4px 12px;background:rgba(251,146,60,0.06);border:1px solid rgba(251,146,60,0.15);border-radius:20px;letter-spacing:0.08em">
      â†º LOW CONFIDENCE â†’ Fix rejected Â· Returns to Fix Generator with alt strategy Â· Logged in thought stream
    </div>
  </div>

  <div class="connector" style="min-height:24px"><div class="conn-line" style="background:linear-gradient(to bottom,var(--success),var(--border2))"></div><div class="conn-arrow" style="border-top-color:var(--success)"></div><div class="conn-label-wrap"><span class="conn-label" style="color:var(--success)">âœ“ Confident</span></div></div>

  <div class="node n-agent" style="animation-delay:0.9s">
    <div class="step-num">17</div>
    <div class="node-box">
      <div class="node-label">Commit Optimizer â€” Batch &amp; Push</div>
      <div class="node-sub">Groups related fixes into minimum commits Â· Enforces [AI-AGENT] prefix on every message Â· Pushes to TEAM_LEADER_AI_Fix branch Â· Dashboard fixes table row turns âœ“ green</div>
      <span class="node-tag">Agent</span>
    </div>
  </div>

  <div class="annotation">
    ğŸ‘ User sees: Fixes table updating row by row with status âœ“ Â· Live score counter ticking up Â· Commit count incrementing Â· Thought stream showing commit SHAs
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PHASE 5 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="section-divider">
    <div class="sec-line"></div><div class="sec-text">Phase 5 â€” CI/CD Monitoring Loop</div><div class="sec-line"></div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-system" style="animation-delay:0.95s">
    <div class="step-num">18</div>
    <div class="node-box">
      <div class="node-label">GitHub Actions Triggered on Branch Push</div>
      <div class="node-sub">CI/CD pipeline runs automatically on the new branch Â· Agent polls GitHub API every 15 seconds Â· CI/CD timeline adds a new iteration card on dashboard</div>
      <span class="node-tag">System</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-decision" style="animation-delay:1s">
    <div class="step-num">19</div>
    <div class="node-box">
      <div class="node-label">â—† CI Pipeline Result?</div>
      <div class="node-sub">Did all tests pass? Â· Were any previously passing tests broken (regression)? Â· How many iterations remain?</div>
      <span class="node-tag">Decision</span>
    </div>
  </div>

  <div class="connector" style="min-height:24px"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <!-- THREE-WAY BRANCH -->
  <div style="width:100%;max-width:860px;display:flex;gap:8px;align-items:flex-start">
    <!-- REGRESSION path -->
    <div style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px">
      <div class="branch-label" style="background:rgba(248,113,113,0.07);color:var(--error);border:1px solid rgba(248,113,113,0.2)">Regression detected</div>
      <div class="node n-error" style="width:100%">
        <div class="node-box" style="padding:10px 14px">
          <div class="node-label" style="font-size:11px">Rollback Agent</div>
          <div class="node-sub" style="font-size:9px">git revert â€” bad commit only Â· Regression logged on timeline Â· Retry with alt strategy</div>
        </div>
      </div>
    </div>
    <!-- FAILED STILL path -->
    <div style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px">
      <div class="branch-label branch-retry">Failed Â· retries left</div>
      <div class="node n-decision" style="width:100%">
        <div class="node-box" style="padding:10px 14px">
          <div class="node-label" style="font-size:11px">Adaptive Retry</div>
          <div class="node-sub" style="font-size:9px">Exponential backoff Â· Escalate to stronger model Â· Loop back to Fix Generator</div>
        </div>
      </div>
    </div>
    <!-- PASSED path -->
    <div style="flex:1;display:flex;flex-direction:column;align-items:center;gap:6px">
      <div class="branch-label branch-yes">All tests pass</div>
      <div class="node n-success" style="width:100%">
        <div class="node-box" style="padding:10px 14px">
          <div class="node-label" style="font-size:11px">CI Passed âœ“</div>
          <div class="node-sub" style="font-size:9px">PASSED badge shown Â· Dashboard CI timeline turns green Â· Proceed to Phase 6</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Loop-back note -->
  <div class="connector" style="min-height:20px"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="loop-node" style="animation-delay:1.05s">
    <div class="loop-icon">â†º</div>
    <div class="loop-text">
      <strong style="color:var(--decision)">Retry Loop</strong> â€” Regression and failed-with-retries paths loop back to Fix Generator (Step 12) with updated context. Max 5 iterations enforced. After 5 failures â†’ run marked FAILED and results written.
    </div>
    <div class="loop-arrow">max 5Ã—</div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PHASE 6 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="section-divider">
    <div class="sec-line"></div><div class="sec-text">Phase 6 â€” Hardening &amp; Completion</div><div class="sec-line"></div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-agent" style="animation-delay:1.1s">
    <div class="step-num">20</div>
    <div class="node-box">
      <div class="node-label">Adversarial Tester â€” Generate Edge-Case Tests</div>
      <div class="node-sub">Writes new unit tests targeting fixed code paths Â· Commits tests with [AI-AGENT] prefix Â· Triggers one final CI run to confirm hardening</div>
      <span class="node-tag">Agent</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-agent" style="animation-delay:1.15s">
    <div class="step-num">21</div>
    <div class="node-box">
      <div class="node-label">Self-Benchmarker â€” Score &amp; Persist</div>
      <div class="node-sub">Scores run against hackathon rubric Â· Computes predicted vs actual score Â· Evolves strategy weights via genetic algorithm Â· Embeds successful fixes into ChromaDB</div>
      <span class="node-tag">Agent</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <div class="node n-system" style="animation-delay:1.2s">
    <div class="step-num">22</div>
    <div class="node-box">
      <div class="node-label">Write results.json Â· Generate PDF Report</div>
      <div class="node-sub">results.json written to /outputs/{run_id}/ Â· Puppeteer renders full PDF report Â· Both stored and accessible via API Â· PostgreSQL run record updated to final state</div>
      <span class="node-tag">System</span>
    </div>
  </div>

  <div class="connector" style="min-height:28px"><div class="conn-line" style="background:linear-gradient(to bottom,var(--border2),var(--success))"></div><div class="conn-arrow" style="border-top-color:var(--success)"></div></div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PHASE 7 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="section-divider">
    <div class="sec-line"></div><div class="sec-text">Phase 7 â€” Results &amp; Post-Run</div><div class="sec-line"></div>
  </div>

  <div class="node n-system" style="animation-delay:1.25s">
    <div class="step-num">23</div>
    <div class="node-box">
      <div class="node-label">run_complete Event â€” Dashboard Final Update</div>
      <div class="node-sub">Socket.io emits run_complete Â· Dashboard transitions from live to results view Â· All panels fully populated Â· Final PASSED / FAILED badge rendered Â· Score locked</div>
      <span class="node-tag">System</span>
    </div>
  </div>

  <div class="connector"><div class="conn-line"></div><div class="conn-arrow"></div></div>

  <!-- POST-RUN user actions -->
  <div class="parallel-wrap" style="animation-delay:1.3s">
    <div class="parallel-header" style="color:var(--user);background:rgba(34,211,238,0.05)">
      ğŸ‘¤ User can now do any of the following on the completed dashboard
    </div>
    <div class="parallel-body">
      <div class="parallel-col">
        <div class="parallel-col-title">Review Results</div>
        <div class="parallel-item">Browse fixes table with diff viewer</div>
        <div class="parallel-item">View CI/CD timeline iterations</div>
        <div class="parallel-item">Check confidence scores per fix</div>
        <div class="parallel-item">Read causal attribution cards</div>
      </div>
      <div class="parallel-col">
        <div class="parallel-col-title">Explore &amp; Interrogate</div>
        <div class="parallel-item">Rotate 3D dependency graph</div>
        <div class="parallel-item">Ask NL questions to agent</div>
        <div class="parallel-item">Enter Replay Mode step-by-step</div>
        <div class="parallel-item">View strategy evolution chart</div>
      </div>
      <div class="parallel-col">
        <div class="parallel-col-title">Export &amp; Share</div>
        <div class="parallel-item">Download PDF run report</div>
        <div class="parallel-item">Copy branch name for PR review</div>
        <div class="parallel-item">Submit another repo URL</div>
        <div class="parallel-item">Compare runs side-by-side</div>
      </div>
    </div>
  </div>

  <div class="connector" style="min-height:28px"><div class="conn-line" style="background:linear-gradient(to bottom,var(--border2),rgba(74,222,128,0.5))"></div><div class="conn-arrow" style="border-top-color:var(--success)"></div></div>

  <!-- TERMINAL -->
  <div class="node n-success" style="animation-delay:1.35s;max-width:400px">
    <div class="node-box" style="text-align:center;padding:20px 24px">
      <div style="font-size:22px;margin-bottom:8px">âœ¦</div>
      <div class="node-label" style="font-size:15px;text-align:center">Run Complete</div>
      <div class="node-sub" style="text-align:center;margin-top:4px">All fixes committed Â· CI passed Â· Results persisted Â· Knowledge base updated</div>
      <span class="node-tag" style="display:block;text-align:center;margin:10px auto 0;width:fit-content">End State</span>
    </div>
  </div>

</div><!-- end .flow -->

</body>
</html>